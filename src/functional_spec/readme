Functional-style transitions written using `spec` functions